<div ng-hide="service.requestData.length">
    <svg version="1.1" viewBox="0 0 500 70" preserveAspectRatio="xMinYMin meet" class="svg-content">
        <defs>
            <marker
                    id='head'
                    orient="auto"
                    markerWidth='2'
                    markerHeight='2'
                    refX='0.1'
                    refY='1'>
                <!-- triangle pointing right (+x) -->
                <path d='M0,0 V2 L1,1 Z' fill="gray"/>
            </marker>
        </defs>
        <g ng-repeat="m in service.requestData.availableMilestones">
            <g class="milestone">
                <rect ng-attr-x="{{calcRectanglePosX(m.key)}}" class="milestone-rect" height="50px"
                      ng-attr-width="{{boxWidth}}"></rect>
                <foreignObject class="header" ng-attr-x="{{calcRectanglePosX(m.key)}}" y="5" ng-attr-width="{{boxWidth}}">
                    <span title="{{m.longName}}">{{m.name}}</span>
                </foreignObject>
                <foreignObject ng-attr-x="{{calcRectanglePosX(m.key)}}" y="25" ng-attr-width="{{boxWidth}}" height="20">
                    <i ng-show="{{isMilestoneCompleted(m.key)}} && !isLastElement(m.key)" class="fa fa-check-circle-o fa-lg"></i>
                    <i ng-hide="{{isMilestoneCompleted(m.key)}} || isLastElement(m.key)" class="fa fa-circle-thin fa-lg"></i>
                    <span ng-show="{{showSadDate(m.key)}}" class="sad">{{service.requestData.end_dt | date : 'dd.MM.yyyy'}}</span>
                </foreignObject>
            </g>
            <line ng-show="{{!isLastElement(m.key)}}"
                  ng-attr-x1="{{calcArrowPosX1(m.key)}}"
                  y1="25"
                  ng-attr-x2="{{calcArrowPosX2(m.key)}}"
                  y2="25"
                  id='arrow-line'
                  marker-end='url(#head)'
                  fill='none' stroke='gray'
                  style="stroke-width:10"
                    ></line>
        </g>
    </svg>
</div>
<div ng-show="service.requestData.length">
    {{boxWidth}}
    <div>Sorry, no timeline data available! <i class="fa fa-frown-o"></i></div>
</div>
</div>